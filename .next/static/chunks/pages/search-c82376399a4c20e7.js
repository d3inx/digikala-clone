(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{7646:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(9338)}])},9338:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return g},default:function(){return v}});var a=s(5893),r=s(7294),n=s(1163),c=s(1358),i=s.n(c),l=s(5675),o=s.n(l),d=s(1664),u=s.n(d),x=s(7901),p=function(e){var t=e.products;return(0,a.jsx)("div",{className:"flex flex-wrap divide-x divide-y border-t-[.5px] mt-8",children:t.map((function(e){return(0,a.jsx)(u(),{href:e.url.uri,children:(0,a.jsxs)("a",{className:"w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 p-4 hover:shadow-xl cursor-pointer",children:[(0,a.jsx)("div",{className:"w-full p-4",children:(0,a.jsx)(o(),{src:e.images.main.url[0],width:300,height:300,layout:"responsive",alt:e.title_fa})}),(0,a.jsx)("p",{className:"text-sm h-10 mt-4 line-clamp-2",children:e.title_fa}),e.rating.count>0&&(0,a.jsxs)("div",{className:"flex items-center my-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-amber-500"}),(0,a.jsxs)("p",{className:"text-xs pr-2",children:[e.rating.rate/20," "]})]}),"marketable"===e.status?(0,a.jsxs)("div",{className:"flex flex-row-reverse justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsxs)("p",{className:"text-sm font-bold",children:[e.default_variant.price.selling_price.toLocaleString()," ","\u0631\u06cc\u0627\u0644"]}),e.default_variant.price.discount_percent>0&&(0,a.jsx)("p",{className:"text-xs text-gray-400 line-through mt-4",children:e.default_variant.price.rrp_price.toLocaleString()})]}),e.default_variant.price.discount_percent>0&&(0,a.jsxs)("div",{className:"bg-rose-600 h-5 flex items-center rounded-full px-2 mr-2 text-xs text-white font-bold",children:[e.default_variant.price.discount_percent,"\u066a"]})]}):(0,a.jsx)("div",{className:"flex flex-row-reverse justify-between",children:(0,a.jsx)("p",{className:"font-bold text-gray-400",children:"\u0646\u0627\u0645\u0648\u062c\u0648\u062f"})})]})},e.id)}))})};function m(e){var t=e.itemsPerPage,s=e.totalPages,c=e.products,l=(0,r.useState)(null),o=l[0],d=(l[1],(0,r.useState)(0)),u=(d[0],d[1]),x=(0,n.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{products:c,currentItems:o}),(0,a.jsx)(i(),{breakLabel:"...",nextLabel:"\u0628\u0639\u062f\u06cc >",onPageChange:function(e){var s=e.selected*t%c.length,a=Object.keys(x.query).map((function(e){return"page"===e?"":"".concat(e,"=").concat(x.query[e])})).join("&");console.log(x),"/search/[childProductCategory]"===x.pathname?x.push("/search/[childProductCategory]?".concat(a,"&page=").concat(e.selected+1)):x.push("/search?".concat(a,"&page=").concat(e.selected+1)),console.log(s),u(s)},pageRangeDisplayed:5,pageCount:s,previousLabel:"< \u0642\u0628\u0644\u06cc",renderOnZeroPageCount:null,initialPage:void 0===x.query.page?0:x.query.page-1,containerClassName:"list-none w-full flex justify-center items-center my-8",pageClassName:"mx-4 w-8 h-8 flex items-center justify-center rounded-full text-sm",activeClassName:"bg-rose-600 text-white",previousClassName:"text-rose-600 font-bold",nextClassName:"text-rose-600 font-bold",disabledClassName:"hidden"})]})}var h=s(971),f=function(e){var t=e.option,s=e.query;return(0,a.jsxs)("div",{className:"flex text-sm",children:[(0,a.jsx)("div",{children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})}),(0,a.jsx)("p",{children:"\u0645\u0631\u062a\u0628 \u0633\u0627\u0632\u06cc:"}),t.map((function(e){return(0,a.jsx)(u(),{href:"/search/?q=".concat(s.q,"&sort=").concat(e.id),children:(0,a.jsx)("div",{className:"font-light px-4 cursor-pointer ".concat(s.sort==e.id?"text-rose-500":"text-gray-400","\n              ").concat(void 0===s.sort&&22==e.id?"text-rose-500":"text-gray-400"),children:e.title_fa})},e.id)}))]})},g=!0,v=function(e){var t=e.result,s=e.query;return(0,a.jsx)("div",{className:"xl:container xl:mx-auto px-4 mt-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{option:t.data.sort_options,query:s}),(0,a.jsx)(p,{products:t.data.products}),(0,a.jsx)(m,{itemsPerPage:20,totalPages:t.data.pager.total_pages,products:t.data.products,className:"container"})]})})}}},function(e){e.O(0,[85,774,888,179],(function(){return t=7646,e(e.s=t);var t}));var t=e.O();_N_E=t}]);